(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-addbase-addbase"],{"24a3":function(t,a,e){"use strict";var n=e("5fa7"),o=e.n(n);o.a},"5fa7":function(t,a,e){var n=e("cd12");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=e("4f06").default;o("530c1466",n,!0,{sourceMap:!1,shadowMode:!1})},"62e9":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("c5e3"),o={data:function(){return{form:{bh:"",chandi:"",yt:"",jw:"",lng:"",lat:""}}},onLoad:function(t){console.log(t.bh),this.getbase(t)},methods:{getcurrent:function(){var t=this;uni.getLocation({type:"wgs84",success:function(a){t.form.lng=a.longitude,t.form.lat=a.latitude,console.log("当前位置的经度："+a.longitude),console.log("当前位置的纬度："+a.latitude)}})},getjw:function(){var t=this;uni.request({url:'https://api.tianditu.gov.cn/geocoder?ds={"keyWord":"'+this.form.jw+'"}&tk=171312009286abbb6927374329928e2f',success:function(a){console.log(a.data),t.form.lng=a.data.location.lon,t.form.lat=a.data.location.lat}})},addbase:function(){var t=this,a=uni.getStorageSync("token");console.log(a),uni.request({url:n.api_base_url+"/addbase?token="+a,method:"POST",data:t.form,success:function(t){0==t.data.code&&uni.navigateBack({delta:1})},fail:function(){uni.showModal({title:"添加失败"})}})},getbase:function(t){if(t.bh){var a=this;console.log(t.bh);var e=uni.getStorageSync("token");uni.request({url:n.api_base_url+"/getbasedetail?token="+e,data:{bh:t.bh},success:function(t){a.form.chandi=t.data.data.chandi,a.form.yt=t.data.data.yt,a.form.lng=t.data.data.lng,a.form.lat=t.data.data.lat,a.form.bh=t.data.data.bh}})}}}};a.default=o},"67ce":function(t,a,e){"use strict";e.r(a);var n=e("eda9"),o=e("d13c");for(var u in o)"default"!==u&&function(t){e.d(a,t,(function(){return o[t]}))}(u);e("24a3");var l,i=e("f0c5"),r=Object(i["a"])(o["default"],n["b"],n["c"],!1,null,"4d48d40e",null,!1,n["a"],l);a["default"]=r.exports},cd12:function(t,a,e){var n=e("24fb");a=n(!1),a.push([t.i,"u-input[data-v-4d48d40e]{display:inline-block}.inline[data-v-4d48d40e]{display:inline-block}",""]),t.exports=a},d13c:function(t,a,e){"use strict";e.r(a);var n=e("62e9"),o=e.n(n);for(var u in n)"default"!==u&&function(t){e.d(a,t,(function(){return n[t]}))}(u);a["default"]=o.a},eda9:function(t,a,e){"use strict";e.d(a,"b",(function(){return o})),e.d(a,"c",(function(){return u})),e.d(a,"a",(function(){return n}));var n={uForm:e("a2b6").default,uFormItem:e("46b4").default,uInput:e("55c0").default,uButton:e("231f").default},o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",{staticStyle:{"margin-left":"20upx","margin-right":"20upx"}},[e("u-form",{ref:"uForm",attrs:{model:t.form}},[e("u-form-item",{attrs:{label:"产地名称","label-width":"150"}},[e("u-input",{model:{value:t.form.chandi,callback:function(a){t.$set(t.form,"chandi",a)},expression:"form.chandi"}})],1),e("u-form-item",{attrs:{label:"产地用途","label-width":"150"}},[e("u-input",{model:{value:t.form.yt,callback:function(a){t.$set(t.form,"yt",a)},expression:"form.yt"}})],1),e("u-form-item",{attrs:{label:"产地位置","label-width":"150"}},[e("u-input",{attrs:{placeholder:"请输入地址获取经纬度"},model:{value:t.form.jw,callback:function(a){t.$set(t.form,"jw",a)},expression:"form.jw"}}),e("u-button",{staticClass:"inline",attrs:{type:"success"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.getjw()}}},[t._v("获取经纬度")])],1),e("u-button",{attrs:{type:"success"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.getcurrent()}}},[t._v("直接获取当前位置经纬度")]),e("u-form-item",{attrs:{label:"经度","label-width":"150"}},[e("u-input",{attrs:{disabled:!0},model:{value:t.form.lng,callback:function(a){t.$set(t.form,"lng",a)},expression:"form.lng"}})],1),e("u-form-item",{attrs:{label:"纬度","label-width":"150"}},[e("u-input",{attrs:{disabled:!0},model:{value:t.form.lat,callback:function(a){t.$set(t.form,"lat",a)},expression:"form.lat"}})],1)],1),e("u-button",{attrs:{type:"success"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.addbase()}}},[t._v("添加产地")])],1)},u=[]}}]);