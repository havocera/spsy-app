(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{1069:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=t("c5e3"),i={data:function(){return{SessionKey:"",userData:{open_id:"",nickName:null,avatarUrl:null,gender:null},isCanUse:uni.getStorageSync("isCanUse")||!0}},onLoad:function(){},methods:{wxGetUserInfo:function(){uni.showLoading({title:"正在登录"});var e=this;uni.login({provider:"weixin",success:function(n){e.userData.open_id=n.code,uni.getUserInfo({provider:"weixin",success:function(n){e.userData.nickName=n.userInfo.nickName,e.userData.avatarUrl=n.userInfo.avatarUrl,e.userData.gender=n.userInfo.gender,uni.setStorage({key:"userInfo",data:n.userInfo,success:function(){}}),uni.request({url:a.api_base_url+"/wxlogin",data:{open_id:e.userData.open_id},method:"POST",success:function(e){uni.hideLoading(),uni.showToast({title:"授权成功"}),-1==e.data.code?uni.showModal({title:"温馨提示",content:"你还未绑定省平台账号",confirmText:"绑定",success:function(e){(e.confirm||e.cancel)&&uni.navigateTo({url:"/pages/register/register",animationDuration:100})}}):0==e.data.code&&(uni.setStorage({key:"token",data:e.data.data.token,success:function(){console.log("success")}}),uni.setStorage({key:"qyinfo",data:e.data.data.qyinfo,success:function(){console.log("success")}}),uni.showToast({title:"chenggong"}),uni.switchTab({url:"../index/index"})),uni.hideLoading()},fail:function(e){uni.hideLoading(),uni.showModal({title:e.data.message})}})},fail:function(e){}})},fail:function(){}})}}};n.default=i},"1ae8":function(e,n,t){"use strict";t.r(n);var a=t("1069"),i=t.n(a);for(var o in a)"default"!==o&&function(e){t.d(n,e,(function(){return a[e]}))}(o);n["default"]=i.a},"3caf":function(e,n,t){var a=t("24fb");n=a(!1),n.push([e.i,".header[data-v-6e462da6]{margin:%?90?% 0 %?90?% %?50?%;border-bottom:1px solid #ccc;text-align:center;width:%?650?%;height:%?300?%;line-height:%?450?%}.header uni-image[data-v-6e462da6]{width:%?200?%;height:%?200?%;border-radius:50%}.content[data-v-6e462da6]{margin-left:%?50?%;margin-bottom:%?90?%}.content uni-text[data-v-6e462da6]{display:block;color:#9d9d9d;margin-top:%?40?%}.bottom[data-v-6e462da6]{border-radius:%?80?%;margin:%?70?% %?50?%;font-size:%?35?%;background-color:#8bfed1;color:#fff}",""]),e.exports=n},4105:function(e,n,t){"use strict";t.r(n);var a=t("c4dc"),i=t("1ae8");for(var o in i)"default"!==o&&function(e){t.d(n,e,(function(){return i[e]}))}(o);t("7727");var u,r=t("f0c5"),s=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"6e462da6",null,!1,a["a"],u);n["default"]=s.exports},"53b3":function(e,n,t){var a=t("3caf");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=t("4f06").default;i("5efd1533",a,!0,{sourceMap:!1,shadowMode:!1})},7727:function(e,n,t){"use strict";var a=t("53b3"),i=t.n(a);i.a},c4dc:function(e,n,t){"use strict";var a;t.d(n,"b",(function(){return i})),t.d(n,"c",(function(){return o})),t.d(n,"a",(function(){return a}));var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-uni-view",[e.isCanUse?t("v-uni-view",[t("v-uni-view",[t("v-uni-view",{staticClass:"header"},[t("v-uni-image",{attrs:{src:e.userData.avatarUrl}})],1),t("v-uni-view",{staticClass:"content"},[t("v-uni-view",[e._v("申请获取以下权限")]),t("v-uni-text",[e._v("获得你的公开信息(昵称，头像、地区等)")])],1),t("v-uni-button",{staticClass:"bottom",attrs:{"open-type":"getUserInfo",withCredentials:"true",lang:"zh_CN"},on:{getuserinfo:function(n){arguments[0]=n=e.$handleEvent(n),e.wxGetUserInfo.apply(void 0,arguments)}}},[e._v("授权登录")])],1)],1):e._e()],1)},o=[]}}]);